<!DOCTYPE html>



<html lang="en-US" 
  
>

  <!--
  The Head
-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

    

    

  

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Membuat RAID di CentOS 8" />
<meta name="author" content="nurhamim" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Pada tutorial sebelumnya, kita sudah belajar mengenai RAID berikut: Belajar RAID" />
<meta property="og:description" content="Pada tutorial sebelumnya, kita sudah belajar mengenai RAID berikut: Belajar RAID" />
<link rel="canonical" href="/posts/membuat-raid-di-centos-8/" />
<meta property="og:url" content="/posts/membuat-raid-di-centos-8/" />
<meta property="og:site_name" content="Chirpy" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-09-12T21:47:15+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Membuat RAID di CentOS 8" />
<meta name="twitter:site" content="@twitter_username" />
<meta name="twitter:creator" content="@nurhamim" />
<meta name="google-site-verification" content="google_meta_tag_verification" />
<script type="application/ld+json">
{"@type":"BlogPosting","dateModified":"2020-09-12T21:47:15+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/membuat-raid-di-centos-8/"},"author":{"@type":"Person","name":"nurhamim"},"description":"Pada tutorial sebelumnya, kita sudah belajar mengenai RAID berikut: Belajar RAID","headline":"Membuat RAID di CentOS 8","datePublished":"2020-09-12T21:47:15+08:00","url":"/posts/membuat-raid-di-centos-8/","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <title>Membuat RAID di CentOS 8 | Chirpy
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Chirpy">
<meta name="application-name" content="Chirpy">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">

  <!-- GA -->
  

  <!-- jsDelivr CDN -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css">

  <!--
  CSS selector for site.
-->

<link rel="stylesheet" href="/assets/css/style.css">


  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css">



  <!-- Manific Popup -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">



  <!-- JavaScripts -->

  <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>

  <script defer
    src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script>

  <!--
  JS selector for site.
-->


  



  <!-- image lazy-loading & popup -->
  <script async
    src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script>





<script defer src="/assets/js/dist/post.min.js"></script>






</head>


  <body data-spy="scroll" data-target="#toc">

    <!--
  The Side Bar
-->

<div id="sidebar" class="d-flex flex-column align-items-end">

  <div class="profile-wrapper text-center">
    <div id="avatar">
      <a href="/" alt="avatar" class="mx-auto">
        
        <img src="https://cdn.jsdelivr.net/gh/cotes2020/chirpy-images/commons/avatar.jpg" alt="avatar" onerror="this.style.display='none'">
      </a>
    </div>

    <div class="site-title mt-3">
      <a href="/">Chirpy</a>
    </div>

    <div class="site-subtitle font-italic">A text-focused Jekyll theme</div>

  </div><!-- .profile-wrapper -->

  <ul class="w-100">
    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
    <li class="nav-item">
      <a href="/categories/" class="nav-link">
        <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i>
        <span>CATEGORIES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tags/" class="nav-link">
        <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i>
        <span>TAGS</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/archives/" class="nav-link">
        <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ARCHIVES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/about/" class="nav-link">
        <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ABOUT</span>
      </a>
    </li> <!-- .nav-item -->
    

  </ul> <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center">

    
      

      
      <a href="https://github.com/github_username" aria-label="github"
        class="order-3"
        target="_blank" rel="noopener">
        <i class="fab fa-github-alt"></i>
      </a>
      

    
      

      
      <a href="https://twitter.com/twitter_username" aria-label="twitter"
        class="order-4"
        target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
      

    
      

      
      <a href="
          javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email"
        class="order-5"
        >
        <i class="fas fa-envelope"></i>
      </a>
      

    
      

      
      <a href="/feed.xml" aria-label="rss"
        class="order-6"
        >
        <i class="fas fa-rss"></i>
      </a>
      

    

    
      
        <span class="icon-border order-2"></span>
      

      <span id="mode-toggle-wrapper" class="order-1">
        <!--
  Switch the mode between dark and light.
-->

<i class="mode-toggle fas fa-adjust"></i>

<script type="text/javascript">

  class ModeToggle {
    static get MODE_KEY() { return "mode"; }
    static get DARK_MODE() { return "dark"; }
    static get LIGHT_MODE() { return "light"; }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      var self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addListener(function() {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }

          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.updateMermaid();
      });

    } /* constructor() */


    setDark() {
      $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      $('html').removeAttr(ModeToggle.MODE_KEY);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); }

    get isSysDarkPrefer() { return this.sysDarkPrefers.matches; }

    get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; }

    get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; }

    get hasMode() { return this.mode != null; }

    get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode
        || (!this.hasMode && this.isSysDarkPrefer) ) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    updateMermaid() {
      if (typeof mermaid !== "undefined") {
        let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default");
        let config = { theme: expectedTheme };

        /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */
        $(".mermaid").each(function() {
          let svgCode = $(this).prev().children().html();
          $(this).removeAttr("data-processed");
          $(this).html(svgCode);
        });

        mermaid.initialize(config);
        mermaid.init(undefined, ".mermaid");
      }
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }

        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }

      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.updateMermaid();

    } /* flipMode() */

  } /* ModeToggle */

  let toggle = new ModeToggle();

  $(".mode-toggle").click(function() {

    toggle.flipMode();

  });

</script>

      </span>
    

  </div> <!-- .sidebar-bottom -->

</div><!-- #sidebar -->


    <!--
  The Top Bar
-->

<div id="topbar-wrapper" class="row justify-content-center topbar-down">
  <div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between">
    <span id="breadcrumb">

    

    

      

        
          

        

      

        
        <span>
          
          
          <a href="/">
            Posts
          </a>
        </span>

        

      

        
          <span>Membuat RAID di CentOS 8</span>

        

      

    

    </span><!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search"
        aria-label="search" autocomplete="off" placeholder="Search...">
      <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i>
    </span>
    <span id="search-cancel" >Cancel</span>
  </div>

</div>


    <div id="main-wrapper">
      <div id="main">

        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->


<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->


<!-- Add attribute 'hide-bullet' to the checkbox list -->




  

  

  <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->
  

  

  



<!-- return -->
<div class="row">

  <div id="post-wrapper" class="col-12 col-lg-11 col-xl-8">

    <div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

      <h1 data-toc-skip>Membuat RAID di CentOS 8</h1>

      <div class="post-meta text-muted d-flex flex-column">
        <!-- Published date and author -->
        <div>
          <span class="semi-bold">
            nurhamim
          </span>
          <!--
  Date format snippet
  See: /assets/js/_utils/timeage.js
-->





<span class="timeago "
  
    data-toggle="tooltip"
    data-placement="bottom"
    title="Sat, Sep 12, 2020,  9:47 PM +0800"
  

  
  prep="on" >

  
  

  
    Sep 12, 2020
  

  <i class="unloaded">2020-09-12T21:47:15+08:00</i>

</span>

        </div>

        <div>
          <!-- lastmod -->
          

          <!-- read time -->
          <!--
  Calculate the post's reading time, and display the word count in tooltip
 -->


<!-- words per minute  -->







<!-- return element -->
<span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2926 words">16 min</span>


          <!-- page views -->
          

        </div>

      </div> <!-- .post-meta -->

      <div class="post-content">

        

        <p>Pada tutorial sebelumnya, kita sudah belajar mengenai RAID berikut: <a href="/belajar-raid/">Belajar RAID</a></p>

<p>Dan pada tutorial kali ini kita akan mencoba bagaimana cara membuat RAID yang sudah kita pelajari sebelumnya. Untuk membuat RAID bisa menggunakan service <em>mdadm</em> oleh karena itu kita perlu install terlebih dahulu <em>mdadm</em> di CentOS 8.</p>

<p>Di CentOS 8 <em>mdadm</em> sudah tersedia secara default di repository berikut</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]# dnf info mdadm
Last metadata expiration check: 0:12:32 ago on Sat 12 Sep 2020 11:45:54 AM UTC.
Available Packages
Name : mdadm
Version : 4.1
Release : 13.el8
Architecture : x86_64
Size : 453 k
Source : mdadm-4.1-13.el8.src.rpm
Repository : BaseOS
Summary : The mdadm program controls Linux md devices (software RAID arrays)
URL : http://www.kernel.org/pub/linux/utils/raid/mdadm/
License : GPLv2+
Description : The mdadm program is used to create, manage, and monitor Linux MD (software
             : RAID) devices. As such, it provides similar functionality to the raidtools
             : package. However, mdadm is a single program, and it can perform
             : almost all functions without a configuration file, though a configuration
             : file can be used to help with some common tasks.

[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Untuk instalasi <em>mdadm</em> di CentOS 8 jalankan perintah berikut</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# dnf install mdadm -y
</pre></td></tr></tbody></table></code></div></div>

<p>Cek versi <em>mdadm</em></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# mdadm --version
mdadm - v4.1 - 2018-10-01
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Selanjutnya terdapat 5 level RAID yang akan kita buat pada tutorial ini yaitu level RAID 0, 1, 5, 6 dan 10, sebelum membuat RAID perlu di ketahui pada tutorial kali ini kami akan memberi tahu cara membuat masing – masing RAID dan diakhir akan dibahas bagaimana cara menggunakan RAID misalnya RAID 10 kita jadikan sebagai Ext4 dan di mounting misalnya ke _ <strong>home.</strong> _</p>

<h3 id="level-raid-0">Level RAID 0</h3>

<p>Untuk membuat RAID 0 kita minimal mempunyai 2 disk/volume/storage</p>

<figure class="wp-block-table"><div class="table-wrapper"><table><tbody>
<tr>
<td class="has-text-align-center" data-align="center">Nama Volume</td>
<td class="has-text-align-center" data-align="center">Size Volume</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">vdb</td>
<td class="has-text-align-center" data-align="center">10 GB</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">vdc</td>
<td class="has-text-align-center" data-align="center">10 GB</td>
</tr>
</tbody></table></div></figure>

<p>Gunakna perintah berikut untuk melihat volume yang sudah di attach ke Instance/VM</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
NAME SIZE FSTYPE TYPE MOUNTPOINT
vda 60G disk
└─vda1 60G xfs part /
vdb 10G disk
vdc 10G disk
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Untuk membuat RAID 0 jalankan perintah berikut</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# mdadm --create --verbose /dev/md0 --level=0 --raid-devices=2 /dev/vdb /dev/vdc
mdadm: chunk size defaults to 512K
mdadm: Defaulting to version 1.2 metadata
mdadm: array /dev/md0 started.
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p><em>Noted: Perhatikan nama volume sesuai</em></p>

<p>Cek RAID 0 yang sudah kita buat</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# cat /proc/mdstat
Personalities : [raid0]
md0 : active raid0 vdc[1] vdb[0]
      20953088 blocks super 1.2 512k chunks

unused devices: &lt;none&gt;
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Cek volume RAID 0</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
NAME SIZE FSTYPE TYPE MOUNTPOINT
vda 60G disk
└─vda1 60G xfs part /
vdb 10G linux_raid_member disk
└─md0 20G raid0
vdc 10G linux_raid_member disk
└─md0 20G raid0
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<h3 id="level-raid-1">Level RAID 1</h3>

<p>Untuk membuat RAID 1 hampir sama dengan membuat RAID 0 dimana Anda hanya perlu menyesuaikan level dan banyak nya volume yang ingin Anda gunakan, untuk RAID 1 minimal 2 volume</p>

<figure class="wp-block-table"><div class="table-wrapper"><table><tbody>
<tr>
<td class="has-text-align-center" data-align="center">Nama Volume</td>
<td class="has-text-align-center" data-align="center">Size Volume</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">vdb</td>
<td class="has-text-align-center" data-align="center">10 GB</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">vdc</td>
<td class="has-text-align-center" data-align="center">10 GB</td>
</tr>
</tbody></table></div></figure>

<p>Silakan cek volume menggunakan perintah berikut</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]# lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
NAME SIZE FSTYPE TYPE MOUNTPOINT
vda 60G disk
└─vda1 60G xfs part /
vdb 10G disk
vdc 10G disk
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Jalankan perintah berikut, untuk membuat RAID 1</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# mdadm --create --verbose /dev/md0 --level=1 --raid-devices=2 /dev/vdb /dev/vdc
mdadm: Note: this array has metadata at the start and
    may not be suitable as a boot device. If you plan to
    store '/boot' on this device please ensure that
    your boot-loader understands md/v1.x metadata, or use
    --metadata=0.90
mdadm: size set to 10476544K
Continue creating array? y
mdadm: Defaulting to version 1.2 metadata
mdadm: array /dev/md0 started.
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Jika sudah silakan cek RAID 1 yang sudah dibuat, perlu diketahui untuk RAID 1 memerlukan waktu resync antar volume</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# cat /proc/mdstat
Personalities : [raid0] [raid1]
md0 : active raid1 vdc[1] vdb[0]
      10476544 blocks super 1.2 [2/2] [UU]
      [=======&gt;.............] resync = 37.7% (3960768/10476544) finish=1.3min speed=82517K/sec

unused devices: &lt;none&gt;
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Cek status RAID 1</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# cat /proc/mdstat
Personalities : [raid0] [raid1]
md0 : active raid1 vdc[1] vdb[0]
      10476544 blocks super 1.2 [2/2] [UU]

unused devices: &lt;none&gt;
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Cek status volume RAID 1</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
NAME SIZE FSTYPE TYPE MOUNTPOINT
vda 60G disk
└─vda1 60G xfs part /
vdb 10G linux_raid_member disk
└─md0 10G raid1
vdc 10G linux_raid_member disk
└─md0 10G raid1
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<h3 id="level-raid-5">Level RAID 5</h3>

<p>Untuk membuat RAID 5 kita perlu memiliki minimal 3 disk/volume yang sudah ter-attach ke sisi instance</p>

<figure class="wp-block-table"><div class="table-wrapper"><table><tbody>
<tr>
<td class="has-text-align-center" data-align="center">Nama Volume</td>
<td class="has-text-align-center" data-align="center">Size Volume</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">vdb</td>
<td class="has-text-align-center" data-align="center">10 GB</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">vdc</td>
<td class="has-text-align-center" data-align="center">10 GB</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">vdd</td>
<td class="has-text-align-center" data-align="center">10 GB</td>
</tr>
</tbody></table></div></figure>

<p>Untuk melihat volume yang sudah ter-attach gunakan perintah berikut</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
NAME SIZE FSTYPE TYPE MOUNTPOINT
vda 60G disk
└─vda1 60G xfs part /
vdb 10G disk
vdc 10G disk
vdd 10G disk
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Untuk membuat RAID 5 jalankan perintah berikut, silakan sesuaikan level, dan nama volume Anda</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]# mdadm --create --verbose /dev/md0 --level=5 --raid-devices=3 /dev/vdb /dev/vdc /dev/vdd
mdadm: layout defaults to left-symmetric
mdadm: layout defaults to left-symmetric
mdadm: chunk size defaults to 512K
mdadm: size set to 10476544K
mdadm: Defaulting to version 1.2 metadata
mdadm: array /dev/md0 started.
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Selanjutnya cek RAID yang kita buat, untuk RAID 5 memerlukan waktu resync antar disk/volume.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# cat /proc/mdstat
Personalities : [raid0] [raid1] [raid6] [raid5] [raid4]
md0 : active raid5 vdd[3] vdc[1] vdb[0]
      20953088 blocks super 1.2 level 5, 512k chunk, algorithm 2 [3/2] [UU_]
      [==========&gt;..........] recovery = 53.1% (5569248/10476544) finish=0.7min speed=113291K/sec

unused devices: &lt;none&gt;
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Cek status RAID 5</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# cat /proc/mdstat
Personalities : [raid0] [raid1] [raid6] [raid5] [raid4]
md0 : active raid5 vdd[3] vdc[1] vdb[0]
      20953088 blocks super 1.2 level 5, 512k chunk, algorithm 2 [3/3] [UUU]

unused devices: &lt;none&gt;
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Cek status volume RAID 5</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
NAME SIZE FSTYPE TYPE MOUNTPOINT
vda 60G disk
└─vda1 60G xfs part /
vdb 10G linux_raid_member disk
└─md0 20G raid5
vdc 10G linux_raid_member disk
└─md0 20G raid5
vdd 10G linux_raid_member disk
└─md0 20G raid5
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<h3 id="level-raid-6">Level RAID 6</h3>

<p>Untuk membuat RAID 6 minimal kita memiliki 4 buah disk atau volume</p>

<figure class="wp-block-table"><div class="table-wrapper"><table><tbody>
<tr>
<td class="has-text-align-center" data-align="center">Nama Volume</td>
<td class="has-text-align-center" data-align="center">Size Volume</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">vdb</td>
<td class="has-text-align-center" data-align="center">10 GB</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">vdc</td>
<td class="has-text-align-center" data-align="center">10 GB</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">vdd</td>
<td class="has-text-align-center" data-align="center">10 GB</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">vde</td>
<td class="has-text-align-center" data-align="center">10 GB</td>
</tr>
</tbody></table></div></figure>

<p>Cek volume menggunakan perintah berikut</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
NAME SIZE FSTYPE TYPE MOUNTPOINT
vda 60G disk
└─vda1 60G xfs part /
vdb 10G disk
vdc 10G disk
vdd 10G disk
vde 10G disk
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Jalankan perintah berikut, untuk membuat RAID 6 dan silakan sesuaikan level serta nama volume</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# mdadm --create --verbose /dev/md0 --level=6 --raid-devices=4 /dev/vdb /dev/vdc /dev/vdd /dev/vde
mdadm: layout defaults to left-symmetric
mdadm: layout defaults to left-symmetric
mdadm: chunk size defaults to 512K
mdadm: size set to 10476544K
mdadm: Defaulting to version 1.2 metadata
mdadm: array /dev/md0 started.
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Selanjutnya cek RAID yang kita buat, untuk RAID 6 memerlukan waktu resync antar disk/volume.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# cat /proc/mdstat
Personalities : [raid0] [raid1] [raid6] [raid5] [raid4]
md0 : active raid6 vde[3] vdd[2] vdc[1] vdb[0]
      20953088 blocks super 1.2 level 6, 512k chunk, algorithm 2 [4/4] [UUUU]
      [====&gt;................] resync = 23.9% (2509924/10476544) finish=0.6min speed=193071K/sec

unused devices: &lt;none&gt;
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Cek status RAID 6</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# cat /proc/mdstat
Personalities : [raid0] [raid1] [raid6] [raid5] [raid4]
md0 : active raid6 vde[3] vdd[2] vdc[1] vdb[0]
      20953088 blocks super 1.2 level 6, 512k chunk, algorithm 2 [4/4] [UUUU]

unused devices: &lt;none&gt;
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Cek status volume RAID 6</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
NAME SIZE FSTYPE TYPE MOUNTPOINT
vda 60G disk
└─vda1 60G xfs part /
vdb 10G linux_raid_member disk
└─md0 20G raid6
vdc 10G linux_raid_member disk
└─md0 20G raid6
vdd 10G linux_raid_member disk
└─md0 20G raid6
vde 10G linux_raid_member disk
└─md0 20G raid6
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<h3 id="level-raid-10">Level RAID 10</h3>

<p>Untuk membuat RAID 10 hampir sama dengan RAID 6 dimana minimal kita harus mempunyai 4 disk/volume.</p>

<figure class="wp-block-table"><div class="table-wrapper"><table><tbody>
<tr>
<td class="has-text-align-center" data-align="center">Nama Volume</td>
<td class="has-text-align-center" data-align="center">Size Volume</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">vdb</td>
<td class="has-text-align-center" data-align="center">10 GB</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">vdc</td>
<td class="has-text-align-center" data-align="center">10 GB</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">vdd</td>
<td class="has-text-align-center" data-align="center">10 GB</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">vde</td>
<td class="has-text-align-center" data-align="center">10 GB</td>
</tr>
</tbody></table></div></figure>

<p>Untuk melakukan pengecekan volume gunakan perintah berikut</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
NAME SIZE FSTYPE TYPE MOUNTPOINT
vda 60G disk
└─vda1 60G xfs part /
vdb 10G disk
vdc 10G disk
vdd 10G disk
vde 10G disk
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Gunakan perintah berikut untuk membuat RAID 10</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# mdadm --create --verbose /dev/md0 --level=10 --raid-devices=4 /dev/vdb /dev/vdc /dev/vdd /dev/vde
mdadm: layout defaults to n2
mdadm: layout defaults to n2
mdadm: chunk size defaults to 512K
mdadm: size set to 10476544K
mdadm: Defaulting to version 1.2 metadata
mdadm: array /dev/md0 started.
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Selanjutnya cek RAID yang kita buat, untuk RAID 10 memerlukan waktu resync antar disk/volume.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]# cat /proc/mdstat
Personalities : [raid0] [raid1] [raid6] [raid5] [raid4] [raid10]
md0 : active raid10 vde[3] vdd[2] vdc[1] vdb[0]
      20953088 blocks super 1.2 512K chunks 2 near-copies [4/4] [UUUU]
      [====&gt;................] resync = 20.7% (4339136/20953088) finish=1.3min speed=206625K/sec

unused devices: &lt;none&gt;
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Cek status RAID 10</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# cat /proc/mdstat
Personalities : [raid0] [raid1] [raid6] [raid5] [raid4] [raid10]
md0 : active raid10 vde[3] vdd[2] vdc[1] vdb[0]
      20953088 blocks super 1.2 512K chunks 2 near-copies [4/4] [UUUU]

unused devices: &lt;none&gt;
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Cek status volume RAID 10</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
NAME SIZE FSTYPE TYPE MOUNTPOINT
vda 60G disk
└─vda1 60G xfs part /
vdb 10G linux_raid_member disk
└─md0 20G raid10
vdc 10G linux_raid_member disk
└─md0 20G raid10
vdd 10G linux_raid_member disk
└─md0 20G raid10
vde 10G linux_raid_member disk
└─md0 20G raid10
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Untuk melihat detail RAID yang sudah dibuat jalankan perintah berikut:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# mdadm --detail /dev/md0
/dev/md0:
           Version : 1.2
     Creation Time : Sat Sep 12 12:54:49 2020
        Raid Level : raid10
        Array Size : 20953088 (19.98 GiB 21.46 GB)
     Used Dev Size : 10476544 (9.99 GiB 10.73 GB)
      Raid Devices : 4
     Total Devices : 4
       Persistence : Superblock is persistent

       Update Time : Sat Sep 12 13:04:45 2020
             State : clean
    Active Devices : 4
   Working Devices : 4
    Failed Devices : 0
     Spare Devices : 0

            Layout : near=2
        Chunk Size : 512K

Consistency Policy : resync

              Name : 0
              UUID : 3de67b5d:e47b0c8c:565303af:ef4a7f03
            Events : 17

    Number Major Minor RaidDevice State
       0 252 16 0 active sync set-A /dev/vdb
       1 252 32 1 active sync set-B /dev/vdc
       2 252 48 2 active sync set-A /dev/vdd
       3 252 64 3 active sync set-B /dev/vde
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Saat ini RAID 0, 1, 5, 6 dan 10 sudah dibuat.</p>

<h3 id="opsional-menghapus-raid">[Opsional] Menghapus RAID</h3>

<p>Ingat!. Langkah ini bisa di Anda skip atau abaikan jika tidak ingin menghapus RAID. Kami contohkan bagaimana cara hapus RAID 1.</p>

<p>Cek RAID 1 terlebih dahulu</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
NAME SIZE FSTYPE TYPE MOUNTPOINT
vda 60G disk
└─vda1 60G xfs part /
vdb 10G linux_raid_member disk
└─md0 10G raid1
vdc 10G linux_raid_member disk
└─md0 10G raid1
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Hapus device mdadm RAID 1 menggunakan perintah berikut</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]# mdadm --remove /dev/md0
[root@raid-belajarlinux ~]# mdadm --stop /dev/md0
mdadm: stopped /dev/md0
[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Jalankan perintah lsblk kembali seperti berikut, dan pastikan device RAID 1 sudah terhapus</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
NAME SIZE FSTYPE TYPE MOUNTPOINT
vda 60G disk
└─vda1 60G xfs part /
vdb 10G linux_raid_member disk
vdc 10G linux_raid_member disk
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Namun disini data volume masih menjadi member atau block dari RAID 1 untuk menghapus nya secara total gunakan perintah berikut</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]# mdadm --zero-superblock /dev/vdb /dev/vdc
[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT
NAME SIZE FSTYPE TYPE MOUNTPOINT
vda 60G disk
└─vda1 60G xfs part /
vdb 10G disk
vdc 10G disk
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<h3 id="jadikan-raid-sebagai-ext4">Jadikan RAID sebagai Ext4</h3>

<p>Disini kami contohkan menggunakan RAID 10 yang akan di jadikan sebaai Ext4</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# cat /proc/mdstat |grep md0
md0 : active raid10 vde[3] vdd[2] vdc[1] vdb[0]
[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# fdisk -l |grep /dev/md0
Disk /dev/md0: 20 GiB, 21455962112 bytes, 41906176 sectors
[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# mkfs.ext4 -F /dev/md0
mke2fs 1.45.4 (23-Sep-2019)
Creating filesystem with 5238272 4k blocks and 1310720 inodes
Filesystem UUID: 2d39f95d-c4be-4a5d-ae4b-eff590458de6
Superblock backups stored on blocks:
        32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,
        4096000

Allocating group tables: done
Writing inode tables: done
Creating journal (32768 blocks): done
Writing superblocks and filesystem accounting information: done

[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>RAID 10 sudah di format menjadi Ext4 dan selanjutnya dapat Anda mounting ke direktori yang Anda inginkan misalnya ke direktori _ <strong>/home</strong> _</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# mount /dev/md0 /home/
[root@raid-belajarlinux ~]# df -h /home/
Filesystem Size Used Avail Use% Mounted on
/dev/md0 20G 45M 19G 1% /home
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Cek size direktori _ <strong>/home</strong> _</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# df -h
Filesystem Size Used Avail Use% Mounted on
devtmpfs 886M 0 886M 0% /dev
tmpfs 914M 0 914M 0% /dev/shm
tmpfs 914M 8.5M 906M 1% /run
tmpfs 914M 0 914M 0% /sys/fs/cgroup
/dev/vda1 60G 2.3G 58G 4% /
tmpfs 183M 0 183M 0% /run/user/1000
/dev/md0 20G 45M 19G 1% /home
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Uji coba RAID 10 misal dengan membuat direktori dan file di dalam _ <strong>/home</strong> _</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# touch /home/belajarlinuxid.txt
[root@raid-belajarlinux ~]# echo "Belajar Membuat RAID ya di Belajar Linux ID" &gt; /home/belajarlinuxid.txt
[root@raid-belajarlinux ~]# cat /home/belajarlinuxid.txt
Belajar Membuat RAID ya di Belajar Linux ID
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<h3 id="konfigurasi-otomatis-mounting-raid">Konfigurasi Otomatis Mounting RAID</h3>

<p>Biasanya jika kita tidak melakukan konfigurasi otomatis mounting volume atau RAID volume, maka pada saat instance/VM di reboot RAID akan otomatis lepas dari direktori yang sudah di mount sebelumnya contoh dalam case ini direktori _ <strong>/home.</strong> _</p>

<p>Untuk konfigurasinya Anda hanya perlu menambahkannya di _ <strong>fstab</strong> _ sebagai berikut</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# vim /etc/fstab
</pre></td></tr></tbody></table></code></div></div>

<p>Isi dan sesuaikan fstab Anda dengan direktori Anda contohnya</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre>#
# /etc/fstab
# Created by anaconda on Mon Jan 13 21:48:59 2020
#
# Accessible filesystems, by reference, are maintained under '/dev/disk/'.
# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info.
#
# After editing this file, run 'systemctl daemon-reload' to update systemd
# units generated from this file.
#
UUID=c7b1ead0-f176-4f23-b9c7-299eb4a06cef / xfs defaults 0 0
/dev/md0 /home ext4 defaults 0 0
</pre></td></tr></tbody></table></code></div></div>

<p>Verifikasi _ <strong>fstab</strong> _</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]# mount -av
/ : ignored
/home : already mounted
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Simpan detail informasi RAID 10 mengguankan perintah berikut</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]# mdadm --detail --scan --verbose &gt;&gt; /etc/mdadm.conf
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Silakan reboot instance/VM Anda untuk mengetahui hasilnya.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# reboot
Connection to 192.168.10.9 closed by remote host.
Connection to 192.168.10.9 closed.
255 ubuntu@my-jumper:~$
</pre></td></tr></tbody></table></code></div></div>

<p>Tunggu beberapa saat proses booting instance/VM Anda dan silakan login kembali pastikan /home masih ada seperti berikut</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre>ubuntu@my-jumper:~$ ssh raid
centos@192.168.10.9's password:
Activate the web console with: systemctl enable --now cockpit.socket

Last login: Sat Sep 12 16:26:49 2020 from 192.168.10.7
Could not chdir to home directory /home/centos: No such file or directory
[centos@raid-belajarlinux /]$
[centos@raid-belajarlinux /]$ sudo su
[root@raid-belajarlinux /]# cd
[root@raid-belajarlinux ~]#
[root@raid-belajarlinux ~]# df -h
Filesystem Size Used Avail Use% Mounted on
devtmpfs 886M 0 886M 0% /dev
tmpfs 914M 0 914M 0% /dev/shm
tmpfs 914M 8.5M 905M 1% /run
tmpfs 914M 0 914M 0% /sys/fs/cgroup
/dev/vda1 60G 2.3G 58G 4% /
/dev/md0 20G 45M 19G 1% /home
tmpfs 183M 0 183M 0% /run/user/0
tmpfs 183M 0 183M 0% /run/user/1000
[root@raid-belajarlinux ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Selamat mencoba 😁</p>

<p>Please follow and like us:</p>

<p><a href="https://api.follow.it/widgets/icon/VHc3d1lpVGdwRnE5QnV0eERCNUx5RCtvTTVoUkNYS3NNRmd5eVhlQW9tNXRHS3VTbGh6Y0NybkRJRS8zSGpjRDVZb1ZGMlNTSEpJYUpuZzZqNzdnd3VSN3dwM2VlQTF6ejJEaGV5UGRUbnlEcHFNd3luYTV4ZTZtUGowVWI2Q2x8M2kzdnBEeUIrUk5xOFI5TXZ3cHF3bFNQRkRJSGhUNGdrRFd0TlNtdE1OWT0=/OA==/"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/wp-content/plugins/ultimate-social-media-icons/images/follow_subscribe.png" alt="error" /></a></p>

<p><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fbelajarlinux.id%2F%3Fp%3D602%26ghostexport%3Dtrue%26submit%3DDownload+Ghost+File"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/wp-content/plugins/ultimate-social-media-icons/images/visit_icons/fbshare_bck.png" alt="fb-share-icon" title="Facebook Share" /></a></p>

<p><a href="https://twitter.com/intent/tweet?text=Membuat+RAID+di+CentOS+8+https://belajarlinux.id/?p=602&amp;ghostexport=true&amp;submit=Download Ghost File"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/wp-content/plugins/ultimate-social-media-icons/images/visit_icons/en_US_Tweet.svg" alt="Tweet" title="Tweet" /></a></p>

<p><a href="#"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/wp-content/plugins/ultimate-social-media-icons/images/share_icons/Pinterest_Save/en_US_save.svg" alt="fb-share-icon" title="Pin Share" /></a></p>

<!--kg-card-end: html-->


      </div>

      <div class="post-tail-wrapper text-muted">

        <!-- categories -->
        
        <div class="post-meta mb-3">
          <i class="far fa-folder-open fa-fw mr-1"></i>
          
            <a href='/categories/centos/'>centos</a>,
            <a href='/categories/raid/'>raid</a>
        </div>
        

        <!-- tags -->
        

        <div class="post-tail-bottom
          d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
          
          <div class="license-wrapper">
            This post is licensed under
            <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>
            by the author.
          </div>
          

          <!--
 Post sharing snippet
-->

<div class="share-wrapper">
  <span class="share-label text-muted mr-1">Share</span>
  <span class="share-icons">
    
    

    
      
        <a href="https://twitter.com/intent/tweet?text=Membuat RAID di CentOS 8 - Chirpy&url=/posts/membuat-raid-di-centos-8/" data-toggle="tooltip" data-placement="top"
          title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
          <i class="fa-fw fab fa-twitter"></i>
        </a>
    
      
        <a href="https://www.facebook.com/sharer/sharer.php?title=Membuat RAID di CentOS 8 - Chirpy&u=/posts/membuat-raid-di-centos-8/" data-toggle="tooltip" data-placement="top"
          title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
          <i class="fa-fw fab fa-facebook-square"></i>
        </a>
    
      
        <a href="https://telegram.me/share?text=Membuat RAID di CentOS 8 - Chirpy&url=/posts/membuat-raid-di-centos-8/" data-toggle="tooltip" data-placement="top"
          title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
          <i class="fa-fw fab fa-telegram"></i>
        </a>
    

    <i class="fa-fw fas fa-link small" onclick="copyLink()"
        data-toggle="tooltip" data-placement="top" title="Copy link"></i>

  </span>
</div>


        </div><!-- .post-tail-bottom -->

      </div><!-- div.post-tail -->

    </div> <!-- .post -->


  </div> <!-- #post-wrapper -->

  

  

  <!--
  The Pannel on right side (Desktop views)
-->

<div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down">

  <div class="access">

  














  

  

















  
  </div> <!-- .access -->

  
    <!-- BS-toc.js will be loaded at medium priority -->
    <script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script>
    <div id="toc-wrapper" class="pl-0 pr-4 mb-5">
      <span class="pl-3 pt-2 mb-2">Contents</span>
      <nav id="toc" data-toggle="toc"></nav>
    </div>
  

</div> <!-- #panel-wrapper -->


</div> <!-- .row -->

<div class="row">
  <div class="col-12 col-lg-11 col-xl-8">
    <div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

    <!--
 Recommend the other 3 posts according to the tags and categories of the current post,
 if the number is not enough, use the other latest posts to supplement.
-->

<!-- The total size of related posts  -->


<!-- An random integer that bigger than 0  -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy}  -->








  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  
    
  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  








<!-- Fill with the other newlest posts  -->






  <div id="related-posts" class="mt-5 mb-2 mb-sm-4">
    <h3 class="pt-2 mt-1 mb-4 ml-1"
      data-toc-skip>Further Reading</h3>
    <div class="card-deck mb-4">
    
      
      
      <div class="card">
        <a href="/posts/belajar-raid/">
          <div class="card-body">
            <!--
  Date format snippet
  See: /assets/js/_utils/timeage.js
-->





<span class="timeago small"
  

  
   >

  
  

  
    Sep 11, 2020
  

  <i class="unloaded">2020-09-11T23:51:59+08:00</i>

</span>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Belajar RAID</h3>
            <div class="text-muted small">
              <p>
                





                Mengenal RAID

RAID adalah teknologi yang digunakan untuk meningkatkan kinerja dan / keandalan (reability) dari sebuah penyimpanan data (storage). RAID singkatan dari Redundant Array of Independent...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/benchmark-disk-volume-menggunakan-fio/">
          <div class="card-body">
            <!--
  Date format snippet
  See: /assets/js/_utils/timeage.js
-->





<span class="timeago small"
  

  
   >

  
  

  
    Sep 27, 2020
  

  <i class="unloaded">2020-09-27T22:03:50+08:00</i>

</span>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Benchmark Disk/Volume Menggunakan FIO</h3>
            <div class="text-muted small">
              <p>
                





                Dalam sebuah disk kita akan menemukan istilah read dan write dimana proses read dan write ini sangat penting di ketahui seberapa cepat proses read dan write pada disk tersebut, terlebih jika kita m...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/cara-remote-database-mariadb-di-centos-8/">
          <div class="card-body">
            <!--
  Date format snippet
  See: /assets/js/_utils/timeage.js
-->





<span class="timeago small"
  

  
   >

  
  

  
    Aug 23, 2020
  

  <i class="unloaded">2020-08-23T10:52:29+08:00</i>

</span>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Cara Remote Database MariaDB di CentOS 8</h3>
            <div class="text-muted small">
              <p>
                





                Melakukan remote atau akses database server dari public dari public tentu bukanlah hal yang asing bagi Anda yang bergelut di dunia SysAdmin ataupun Programmer baik untuk kebutuhan website dan yang ...
              </p>
            </div>
          </div>
        </a>
      </div>
    
    </div> <!-- .card-deck -->
  </div> <!-- #related-posts -->



    <!--
  Navigation buttons at the bottom of the post.
-->

<div class="post-navigation d-flex justify-content-between">
  
  <a href="/posts/belajar-raid/" class="btn btn-outline-primary"
    prompt="Older">
    <p>Belajar RAID</p>
  </a>
  

  
  <a href="/posts/mounting-volume-non-lvm-di-centos-8/" class="btn btn-outline-primary"
    prompt="Newer">
    <p>Mounting Volume non-LVM di CentOS 8</p>
  </a>
  

</div>


    

    </div> <!-- #post-extend-wrapper -->

  </div> <!-- .col-* -->

</div> <!-- .row -->



        <!--
  The Footer
-->

<footer class="d-flex w-100 justify-content-center">
  <div class="d-flex justify-content-between align-items-center">
    <div class="footer-left">
      <p class="mb-0">
        © 2021
        <a href="https://twitter.com/username">your_full_name</a>.
        
        <span data-toggle="tooltip" data-placement="top"
          title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span>
        
      </p>
    </div>

    <div class="footer-right">
      <p class="mb-0">
        Powered by
        <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
        with
        <a href="https://github.com/cotes2020/jekyll-theme-chirpy"
          target="_blank" rel="noopener">Chirpy</a>
        theme.
      </p>
    </div>

  </div> <!-- div.d-flex -->
</footer>


      </div>

      <!--
  The Search results
-->
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-12 col-sm-11 post-content">
    <div id="search-hints">
      <h4 class="text-muted mb-4">Trending Tags</h4>

      

















      

    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>


    </div> <!-- #main-wrapper -->

    

    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script>

<script>
SimpleJekyllSearch({
  searchInput: document.getElementById('search-input'),
  resultsContainer: document.getElementById('search-results'),
  json: '/assets/js/data/search.json',
  searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0">  <a href="{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    {categories}    {tags}  </div>  <p>{snippet}</p></div>',
  noResultsText: '<p class="mt-5">Oops! No result founds.</p>',
  templateMiddleware: function(prop, value, template) {
    if (prop === 'categories') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
      }
    }

    if (prop === 'tags') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
      }
    }
  }
});
</script>


  </body>

</html>

