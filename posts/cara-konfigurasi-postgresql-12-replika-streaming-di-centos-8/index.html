<!DOCTYPE html>



<html lang="en-US" 
  
>

  <!--
  The Head
-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

    

    

  

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Cara Konfigurasi PostgreSQL 12 Replika Streaming di CentOS 8" />
<meta name="author" content="nurhamim" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="PostgreSQL salah satu databate yang power full yang dapat Anda gunakan sebagai pilihan yang tepat untuk database server." />
<meta property="og:description" content="PostgreSQL salah satu databate yang power full yang dapat Anda gunakan sebagai pilihan yang tepat untuk database server." />
<link rel="canonical" href="/posts/cara-konfigurasi-postgresql-12-replika-streaming-di-centos-8/" />
<meta property="og:url" content="/posts/cara-konfigurasi-postgresql-12-replika-streaming-di-centos-8/" />
<meta property="og:site_name" content="Chirpy" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-09-07T20:03:38+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Cara Konfigurasi PostgreSQL 12 Replika Streaming di CentOS 8" />
<meta name="twitter:site" content="@twitter_username" />
<meta name="twitter:creator" content="@nurhamim" />
<meta name="google-site-verification" content="google_meta_tag_verification" />
<script type="application/ld+json">
{"@type":"BlogPosting","dateModified":"2020-09-07T20:03:38+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/cara-konfigurasi-postgresql-12-replika-streaming-di-centos-8/"},"author":{"@type":"Person","name":"nurhamim"},"description":"PostgreSQL salah satu databate yang power full yang dapat Anda gunakan sebagai pilihan yang tepat untuk database server.","headline":"Cara Konfigurasi PostgreSQL 12 Replika Streaming di CentOS 8","datePublished":"2020-09-07T20:03:38+08:00","url":"/posts/cara-konfigurasi-postgresql-12-replika-streaming-di-centos-8/","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <title>Cara Konfigurasi PostgreSQL 12 Replika Streaming di CentOS 8 | Chirpy
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Chirpy">
<meta name="application-name" content="Chirpy">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">

  <!-- GA -->
  

  <!-- jsDelivr CDN -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css">

  <!--
  CSS selector for site.
-->

<link rel="stylesheet" href="/assets/css/style.css">


  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css">



  <!-- Manific Popup -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">



  <!-- JavaScripts -->

  <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>

  <script defer
    src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script>

  <!--
  JS selector for site.
-->


  



  <!-- image lazy-loading & popup -->
  <script async
    src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script>





<script defer src="/assets/js/dist/post.min.js"></script>






</head>


  <body data-spy="scroll" data-target="#toc">

    <!--
  The Side Bar
-->

<div id="sidebar" class="d-flex flex-column align-items-end">

  <div class="profile-wrapper text-center">
    <div id="avatar">
      <a href="/" alt="avatar" class="mx-auto">
        
        <img src="https://cdn.jsdelivr.net/gh/cotes2020/chirpy-images/commons/avatar.jpg" alt="avatar" onerror="this.style.display='none'">
      </a>
    </div>

    <div class="site-title mt-3">
      <a href="/">Chirpy</a>
    </div>

    <div class="site-subtitle font-italic">A text-focused Jekyll theme</div>

  </div><!-- .profile-wrapper -->

  <ul class="w-100">
    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
    <li class="nav-item">
      <a href="/categories/" class="nav-link">
        <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i>
        <span>CATEGORIES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tags/" class="nav-link">
        <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i>
        <span>TAGS</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/archives/" class="nav-link">
        <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ARCHIVES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/about/" class="nav-link">
        <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ABOUT</span>
      </a>
    </li> <!-- .nav-item -->
    

  </ul> <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center">

    
      

      
      <a href="https://github.com/github_username" aria-label="github"
        class="order-3"
        target="_blank" rel="noopener">
        <i class="fab fa-github-alt"></i>
      </a>
      

    
      

      
      <a href="https://twitter.com/twitter_username" aria-label="twitter"
        class="order-4"
        target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
      

    
      

      
      <a href="
          javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email"
        class="order-5"
        >
        <i class="fas fa-envelope"></i>
      </a>
      

    
      

      
      <a href="/feed.xml" aria-label="rss"
        class="order-6"
        >
        <i class="fas fa-rss"></i>
      </a>
      

    

    
      
        <span class="icon-border order-2"></span>
      

      <span id="mode-toggle-wrapper" class="order-1">
        <!--
  Switch the mode between dark and light.
-->

<i class="mode-toggle fas fa-adjust"></i>

<script type="text/javascript">

  class ModeToggle {
    static get MODE_KEY() { return "mode"; }
    static get DARK_MODE() { return "dark"; }
    static get LIGHT_MODE() { return "light"; }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      var self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addListener(function() {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }

          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.updateMermaid();
      });

    } /* constructor() */


    setDark() {
      $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      $('html').removeAttr(ModeToggle.MODE_KEY);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); }

    get isSysDarkPrefer() { return this.sysDarkPrefers.matches; }

    get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; }

    get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; }

    get hasMode() { return this.mode != null; }

    get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode
        || (!this.hasMode && this.isSysDarkPrefer) ) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    updateMermaid() {
      if (typeof mermaid !== "undefined") {
        let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default");
        let config = { theme: expectedTheme };

        /* re-render the SVG ‚Ä∫ <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */
        $(".mermaid").each(function() {
          let svgCode = $(this).prev().children().html();
          $(this).removeAttr("data-processed");
          $(this).html(svgCode);
        });

        mermaid.initialize(config);
        mermaid.init(undefined, ".mermaid");
      }
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }

        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }

      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.updateMermaid();

    } /* flipMode() */

  } /* ModeToggle */

  let toggle = new ModeToggle();

  $(".mode-toggle").click(function() {

    toggle.flipMode();

  });

</script>

      </span>
    

  </div> <!-- .sidebar-bottom -->

</div><!-- #sidebar -->


    <!--
  The Top Bar
-->

<div id="topbar-wrapper" class="row justify-content-center topbar-down">
  <div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between">
    <span id="breadcrumb">

    

    

      

        
          

        

      

        
        <span>
          
          
          <a href="/">
            Posts
          </a>
        </span>

        

      

        
          <span>Cara Konfigurasi PostgreSQL 12 Replika Streaming di CentOS 8</span>

        

      

    

    </span><!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search"
        aria-label="search" autocomplete="off" placeholder="Search...">
      <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i>
    </span>
    <span id="search-cancel" >Cancel</span>
  </div>

</div>


    <div id="main-wrapper">
      <div id="main">

        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->


<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->


<!-- Add attribute 'hide-bullet' to the checkbox list -->




  

  

  <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->
  

  

  



<!-- return -->
<div class="row">

  <div id="post-wrapper" class="col-12 col-lg-11 col-xl-8">

    <div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

      <h1 data-toc-skip>Cara Konfigurasi PostgreSQL 12 Replika Streaming di CentOS 8</h1>

      <div class="post-meta text-muted d-flex flex-column">
        <!-- Published date and author -->
        <div>
          <span class="semi-bold">
            nurhamim
          </span>
          <!--
  Date format snippet
  See: /assets/js/_utils/timeage.js
-->





<span class="timeago "
  
    data-toggle="tooltip"
    data-placement="bottom"
    title="Mon, Sep  7, 2020,  8:03 PM +0800"
  

  
  prep="on" >

  
  

  
    Sep  7, 2020
  

  <i class="unloaded">2020-09-07T20:03:38+08:00</i>

</span>

        </div>

        <div>
          <!-- lastmod -->
          

          <!-- read time -->
          <!--
  Calculate the post's reading time, and display the word count in tooltip
 -->


<!-- words per minute  -->







<!-- return element -->
<span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2245 words">12 min</span>


          <!-- page views -->
          

        </div>

      </div> <!-- .post-meta -->

      <div class="post-content">

        

        <p>PostgreSQL salah satu databate yang power full yang dapat Anda gunakan sebagai pilihan yang tepat untuk database server.</p>

<p>PostgreSQL mempunyai beberapa solusi replikasi untuk support dan bangun aplikasi yang high-availability, scalable, fault-tolerant application, dan salah satunya Write Ahead Log (WAL) Shipping.</p>

<p>Untuk implementasi replikasi streaming di postgresql minimal ada 2 server/vm dimana satu server akan digunakan sebagai primary (master) dan satu server lagi digunakan sebagai standby (slave).</p>

<p>Secara default, replikasi streaming bersifat <em>asynchronous</em> di mana data ditulis ke server standby setelah transaksi dilakukan di server master, artinya akan ada sedikit penundaan antara melakukan transaksi di server master dan perubahan yang terlihat di server standby . Satu kelemahan dari pendekatan ini adalah jika server master mengalami crash, setiap transaksi yang tidak terikat mungkin tidak dapat direplikasi dan ini dapat menyebabkan kehilangan data.</p>

<p>Pada tutorial kali ini kami akan konfigurasi replikasi streaming master-standby (master ‚Äì slave) dengan 2 server/vm detailnya sebagai berikut:</p>

<figure class="wp-block-table"><div class="table-wrapper"><table><tbody>
<tr>
<td class="has-text-align-center" data-align="center">Name</td>
<td class="has-text-align-center" data-align="center">IP</td>
<td class="has-text-align-center" data-align="center">Kegunaan</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">pg1.nurhamim.my.id</td>
<td class="has-text-align-center" data-align="center">192.168.10.21</td>
<td class="has-text-align-center" data-align="center">Postgresql Primary</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center">pg2.nurhamim.my.id</td>
<td class="has-text-align-center" data-align="center">192.168.10.24</td>
<td class="has-text-align-center" data-align="center">Postgresql Standby</td>
</tr>
</tbody></table></div></figure>

<h3 id="-instalasi-postgresql-12"># Instalasi PostgreSQL 12</h3>

<p>Pertama yang harus Anda lakukan yaitu instalasi postgresql 12 di masing ‚Äì masing node postgresql master dan standby.</p>

<p>Dikutip dari tutorial berikut: <a href="/cara-install-postgresql-di-centos-8/">Cara Install PostgreSQL di CentOS 8</a> untuk instalasi postgreSQL 12 dapat mengguankan repository default yang sudah ada di CentOS 8 namun Anda juga dapat menambahkan repository manual postgreSQL di CentOS 8 seperti berikut.</p>

<p>Disable module postgresql default CentOS 8</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>[root@pg1 ~]# dnf -qy module disable postgresql
[root@pg1 ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Install repository postgresql 12</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>[root@pg1 ~]#
[root@pg1 ~]# dnf install https://download.postgresql.org/pub/repos/yum/reporpms/EL-8-x86_64/pgdg-redhat-repo-latest.noarch.rpm
</pre></td></tr></tbody></table></code></div></div>

<p>Install postgresql 12 menggunakan commmand berikut</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>[root@pg1 ~]#
[root@pg1 ~]# dnf install postgresql12 postgresql12-server -y
</pre></td></tr></tbody></table></code></div></div>

<p>Inisiasi database postgresql</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>[root@pg1 ~]#
[root@pg1 ~]# /usr/pgsql-12/bin/postgresql-12-setup initdb
Initializing database ... OK

[root@pg1 ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Start postgresql dan pastikan statusnya running</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre></td><td class="rouge-code"><pre>[root@pg1 ~]#
[root@pg1 ~]# systemctl start postgresql-12
[root@pg1 ~]# systemctl status postgresql-12
‚óè postgresql-12.service - PostgreSQL 12 database server
   Loaded: loaded (/usr/lib/systemd/system/postgresql-12.service; disabled; vendor preset: disabled)
   Active: active (running) since Sun 2020-09-06 12:39:58 UTC; 45s ago
     Docs: https://www.postgresql.org/docs/12/static/
  Process: 6429 ExecStartPre=/usr/pgsql-12/bin/postgresql-12-check-db-dir ${PGDATA} (code=exited, status=0/SUCCESS)
 Main PID: 6434 (postmaster)
    Tasks: 8 (limit: 11328)
   Memory: 17.0M
   CGroup: /system.slice/postgresql-12.service
           ‚îú‚îÄ6434 /usr/pgsql-12/bin/postmaster -D /var/lib/pgsql/12/data/
           ‚îú‚îÄ6436 postgres: logger
           ‚îú‚îÄ6438 postgres: checkpointer
           ‚îú‚îÄ6439 postgres: background writer
           ‚îú‚îÄ6440 postgres: walwriter
           ‚îú‚îÄ6441 postgres: autovacuum launcher
           ‚îú‚îÄ6442 postgres: stats collector
           ‚îî‚îÄ6443 postgres: logical replication launcher

Sep 06 12:39:58 pg1.nurhamim.my.id systemd[1]: Starting PostgreSQL 12 database server...
Sep 06 12:39:58 pg1.nurhamim.my.id postmaster[6434]: 2020-09-06 12:39:58.878 UTC [6434] LOG: starting PostgreSQL 12.4 on x86_64-pc-linux-gnu, compiled by gcc (GCC) 8.3.1 20191121 (Red Hat 8.3.1-5), 64-bit
Sep 06 12:39:58 pg1.nurhamim.my.id postmaster[6434]: 2020-09-06 12:39:58.879 UTC [6434] LOG: listening on IPv6 address "::1", port 5432
Sep 06 12:39:58 pg1.nurhamim.my.id postmaster[6434]: 2020-09-06 12:39:58.879 UTC [6434] LOG: listening on IPv4 address "127.0.0.1", port 5432
Sep 06 12:39:58 pg1.nurhamim.my.id postmaster[6434]: 2020-09-06 12:39:58.883 UTC [6434] LOG: listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
Sep 06 12:39:58 pg1.nurhamim.my.id postmaster[6434]: 2020-09-06 12:39:58.893 UTC [6434] LOG: listening on Unix socket "/tmp/.s.PGSQL.5432"
Sep 06 12:39:58 pg1.nurhamim.my.id postmaster[6434]: 2020-09-06 12:39:58.913 UTC [6434] LOG: redirecting log output to logging collector process
Sep 06 12:39:58 pg1.nurhamim.my.id postmaster[6434]: 2020-09-06 12:39:58.913 UTC [6434] HINT: Future log output will appear in directory "log".
Sep 06 12:39:58 pg1.nurhamim.my.id systemd[1]: Started PostgreSQL 12 database server.
[root@pg1 ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Silakan ulangi langkah diatas di node standby (pg2).</p>

<h3 id="-konfigurasi-replikasi-streaming"># Konfigurasi Replikasi Streaming</h3>

<p><strong># Node Master / Node pg1</strong></p>

<p>Login menggunakan user postgres dan set IP master dapat menerima koneksi dari client manapun seperti berikut</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>[root@pg1 ~]#
[root@pg1 ~]# su - postgres
Last login: Sun Sep 6 12:41:23 UTC 2020 on pts/0
[postgres@pg1 ~]$
[postgres@pg1 ~]$ psql -c "ALTER SYSTEM SET listen_addresses TO '*';"
ALTER SYSTEM
[postgres@pg1 ~]$
</pre></td></tr></tbody></table></code></div></div>

<p>Perintah <em>ALTER SYSTEM SET SQL</em> sebuah fitur untuk mengubah parameter konfigurasi server langsung dengan kueri SQL. Konfigurasi disimpan di file <em>postgresql.conf.auto</em> yang terletak di root folder data (misalnya <em>/var/lib/pgsql/12/data/</em>) dan membaca tambahan untuk disimpan di <em>postgresql.conf</em>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>[postgres@pg1 ~]$ createuser --replication -P -e replicator
Enter password for new role:
Enter it again:
SELECT pg_catalog.set_config('search_path', '', false);
CREATE ROLE replicator PASSWORD 'md55c0c06847f1af7be7b811ce4cff39f72' NOSUPERUSER NOCREATEDB NOCREATEROLE INHERIT LOGIN REPLICATION;
[postgres@pg1 ~]$
</pre></td></tr></tbody></table></code></div></div>

<p><em>Keterangan:</em></p>

<p><em>-P: Digunakan untuk generate password<br />
-e: Digunakan untuk membuat user</em></p>

<p>Silakan exit dari shell postgres</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>[postgres@pg1 ~]$
[postgres@pg1 ~]$ exit
logout
[root@pg1 ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Menambahkan rule <strong>/var/lib/pgsql/12/data/pg_hba.conf</strong> dimana kita akan menambahkan IP server standy di sisi master</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>[root@pg1 ~]#
[root@pg1 ~]# vim /var/lib/pgsql/12/data/pg_hba.conf
</pre></td></tr></tbody></table></code></div></div>

<p>Tambahkan satu rule replicator seperti dibawah ini</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre># Allow replication connections from localhost, by a user with the
# replication privilege.
local replication all peer
host replication all 127.0.0.1/32 ident
host replication all ::1/128 ident

host replication replicator 192.168.10.24/27 md5
</pre></td></tr></tbody></table></code></div></div>

<p><em>Noted: Silakan input IP server standby berseta prefix yang digunakan.</em></p>

<p>Jika sudah silakan simpan dan restart postgresql</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>[root@pg1 ~]#
[root@pg1 ~]# systemctl restart postgresql-12.service
[root@pg1 ~]#
</pre></td></tr></tbody></table></code></div></div>

<p><strong># Node Stanby / Node pg2</strong></p>

<p>Selanjutnya kita akan konfigurasi di node standy, pertama silakan stop terlebih dahulu postgresql nya</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>[root@pg2 ~]#
[root@pg2 ~]# systemctl stop postgresql-12.service
[root@pg2 ~]# su - postgres
[postgres@pg2 ~]$
</pre></td></tr></tbody></table></code></div></div>

<p>Copy default konfigurasi postgresql yang berada di ../data dan silakan hapus semua file yang ada di /data</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>[postgres@pg2 ~]$
[postgres@pg2 ~]$ cp -R /var/lib/pgsql/12/data /var/lib/pgsql/12/data_orig
[postgres@pg2 ~]$ rm -rf /var/lib/pgsql/12/data/*
[postgres@pg2 ~]$
</pre></td></tr></tbody></table></code></div></div>

<p>Melakukan backup data yang ada di server master ke standy menggunakan <em>pg</em>_<em>basebackup</em> seperti berikut</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre>[postgres@pg2 ~]$
[postgres@pg2 ~]$ pg_basebackup -h 192.168.10.21 -D /var/lib/pgsql/12/data -U replicator -v -P -R -X stream -C -S pgstandby1
Password:
pg_basebackup: initiating base backup, waiting for checkpoint to complete
pg_basebackup: checkpoint completed
pg_basebackup: write-ahead log start point: 0/2000028 on timeline 1
pg_basebackup: starting background WAL receiver
pg_basebackup: created replication slot "pgstandby1"
25553/25553 kB (100%), 1/1 tablespace
pg_basebackup: write-ahead log end point: 0/2000100
pg_basebackup: waiting for background process to finish streaming ...
pg_basebackup: syncing data to disk ...
pg_basebackup: base backup completed
[postgres@pg2 ~]$
</pre></td></tr></tbody></table></code></div></div>

<p><em>Keterangan:</em></p>

<p><em>-h : Menentukan host yang merupakan server master.<br />
-D : Menentukan direktori data.<br />
-U : Menentukan pengguna koneksi.<br />
-P : Memungkinkan pelaporan kemajuan.<br />
-v : Mengaktifkan mode verbose.<br />
-R : Mengaktifkan pembuatan konfigurasi pemulihan: Membuat file standby.signal dan menambahkan pengaturan koneksi ke postgresql.auto.conf di bawah direktori data.<br />
-X : Digunakan untuk menyertakan file log depan tulis (file WAL) yang diperlukan dalam cadangan. Nilai aliran berarti mengalirkan WAL saat cadangan dibuat.<br />
-C : Memungkinkan pembuatan slot replikasi yang diberi nama oleh opsi -S sebelum memulai pencadangan.<br />
-S : Menentukan nama slot replikasi.</em></p>

<p>Ketika proses backup selesai, direktori data baru di server master akan terlihat di server standby seperti berikut:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="rouge-code"><pre>[postgres@pg2 ~]$
[postgres@pg2 ~]$ ls -lah /var/lib/pgsql/12/data/
total 64K
drwx------ 20 postgres postgres 4.0K Sep 6 13:05 .
drwx------ 5 postgres postgres 68 Sep 6 13:02 ..
-rw------- 1 postgres postgres 224 Sep 6 13:05 backup_label
drwx------ 5 postgres postgres 41 Sep 6 13:05 base
-rw------- 1 postgres postgres 30 Sep 6 13:05 current_logfiles
drwx------ 2 postgres postgres 4.0K Sep 6 13:05 global
drwx------ 2 postgres postgres 32 Sep 6 13:05 log
drwx------ 2 postgres postgres 6 Sep 6 13:05 pg_commit_ts
drwx------ 2 postgres postgres 6 Sep 6 13:05 pg_dynshmem
-rw------- 1 postgres postgres 4.5K Sep 6 13:05 pg_hba.conf
-rw------- 1 postgres postgres 1.6K Sep 6 13:05 pg_ident.conf
drwx------ 4 postgres postgres 68 Sep 6 13:05 pg_logical
drwx------ 4 postgres postgres 36 Sep 6 13:05 pg_multixact
drwx------ 2 postgres postgres 6 Sep 6 13:05 pg_notify
drwx------ 2 postgres postgres 6 Sep 6 13:05 pg_replslot
drwx------ 2 postgres postgres 6 Sep 6 13:05 pg_serial
drwx------ 2 postgres postgres 6 Sep 6 13:05 pg_snapshots
drwx------ 2 postgres postgres 6 Sep 6 13:05 pg_stat
drwx------ 2 postgres postgres 6 Sep 6 13:05 pg_stat_tmp
drwx------ 2 postgres postgres 6 Sep 6 13:05 pg_subtrans
drwx------ 2 postgres postgres 6 Sep 6 13:05 pg_tblspc
drwx------ 2 postgres postgres 6 Sep 6 13:05 pg_twophase
-rw------- 1 postgres postgres 3 Sep 6 13:05 PG_VERSION
drwx------ 3 postgres postgres 60 Sep 6 13:05 pg_wal
drwx------ 2 postgres postgres 18 Sep 6 13:05 pg_xact
-rw------- 1 postgres postgres 325 Sep 6 13:05 postgresql.auto.conf
-rw------- 1 postgres postgres 26K Sep 6 13:05 postgresql.conf
-rw------- 1 postgres postgres 0 Sep 6 13:05 standby.signal
[postgres@pg2 ~]$
</pre></td></tr></tbody></table></code></div></div>

<p>Jika di lihat di sisi master saat ini server slave sudah tereplikasi dan running dalam mode <em>‚ÄúHot Standby‚Äù</em> dan silakan lihat slot replikasi di sisi server master akan ada menjadi pgstandby1</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>[root@pg1 ~]#
[root@pg1 ~]# su - postgres
Last login: Sun Sep 6 12:59:31 UTC 2020 on pts/0
[postgres@pg1 ~]$
[postgres@pg1 ~]$ psql -c "SELECT * FROM pg_replication_slots;"
 slot_name | plugin | slot_type | datoid | database | temporary | active | active_pid | xmin | catalog_xmin | restart_lsn | confirmed_flush_lsn
------------+--------+-----------+--------+----------+-----------+--------+------------+------+--------------+-------------+---------------------
 pgstandby1 | | physical | | | f | f | | | | 0/2000000 |
(1 row)

[postgres@pg1 ~]$
</pre></td></tr></tbody></table></code></div></div>

<figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="190" src="/content/images/wordpress/2020/09/1-5-1024x190.png" alt="" class="wp-image-473" srcset="/content/images/wordpress/2020/09/1-5-1024x190.png 1024w, /content/images/wordpress/2020/09/1-5-300x56.png 300w, /content/images/wordpress/2020/09/1-5-768x143.png 768w, /content/images/wordpress/2020/09/1-5.png 1188w" sizes="(max-width: 1024px) 100vw, 1024px" /></figure>

<p>Untuk melihat pengaturan koneksi yang ditambahkan di file postgresql.auto.conf, gunakan perintah cat seperti berikut</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>[root@pg2 ~]#
[root@pg2 ~]# cat /var/lib/pgsql/12/data/postgresql.auto.conf
# Do not edit this file manually!
# It will be overwritten by the ALTER SYSTEM command.
listen_addresses = '*'
primary_conninfo = 'user=replicator password=secret2020 host=192.168.10.21 port=5432 sslmode=prefer sslcompression=0 gssencmode=prefer krbsrvname=postgres target_session_attrs=any'
primary_slot_name = 'pgstandby1'
[root@pg2 ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Selanjutnya silakan start kembali postgresql Anda</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>[root@pg2 ~]#
[root@pg2 ~]# systemctl start postgresql-12
[root@pg2 ~]#
</pre></td></tr></tbody></table></code></div></div>

<h4 id="-testing-replikasi-streaming"># Testing Replikasi Streaming</h4>

<p>Setelah koneksi berhasil dibuat antara master dan standby, Anda akan melihat proses penerima WAL di server master dengan status streaming, Anda dapat cek menggunakan menamolikan pg_stat_wal_receiver.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre>[root@pg2 ~]#
[root@pg2 ~]# su - postgres
Last login: Sun Sep 6 13:02:18 UTC 2020 on pts/0
[postgres@pg2 ~]$
[postgres@pg2 ~]$ psql -c "\x" -c "SELECT * FROM pg_stat_wal_receiver;"
Expanded display is on.
-[RECORD 1]---------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
pid | 6195
status | streaming
receive_start_lsn | 0/3000000
receive_start_tli | 1
received_lsn | 0/3000148
received_tli | 1
last_msg_send_time | 2020-09-06 13:11:01.147516+00
last_msg_receipt_time | 2020-09-06 13:11:01.149703+00
latest_end_lsn | 0/3000148
latest_end_time | 2020-09-06 13:11:01.147516+00
slot_name | pgstandby1
sender_host | 192.168.10.21
sender_port | 5432
conninfo | user=replicator password= ******** dbname=replication host=192.168.10.21 port=5432 fallback_application_name=walreceiver sslmode=prefer sslcompression=0 gssencmode=prefer krbsrvname=postgres target_session_attrs=any

[postgres@pg2 ~]$
</pre></td></tr></tbody></table></code></div></div>

<figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="386" src="/content/images/wordpress/2020/09/2-5-1024x386.png" alt="" class="wp-image-475" srcset="/content/images/wordpress/2020/09/2-5-1024x386.png 1024w, /content/images/wordpress/2020/09/2-5-300x113.png 300w, /content/images/wordpress/2020/09/2-5-768x289.png 768w, /content/images/wordpress/2020/09/2-5.png 1182w" sizes="(max-width: 1024px) 100vw, 1024px" /></figure>

<p>Dan proses pengirim WAL yang sesuai di master / server utama dengan status <em>streaming</em> dan <em>sync_state async</em>, silakan cek hasil dari <em>pg_stat_replication</em></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre>[postgres@pg1 ~]$
[postgres@pg1 ~]$ psql -c "\x" -c "SELECT * FROM pg_stat_replication;"
Expanded display is on.
-[RECORD 1]----+------------------------------
pid | 7323
usesysid | 16384
usename | replicator
application_name | walreceiver
client_addr | 192.168.10.24
client_hostname |
client_port | 59766
backend_start | 2020-09-06 13:10:44.743067+00
backend_xmin |
state | streaming
sent_lsn | 0/3000148
write_lsn | 0/3000148
flush_lsn | 0/3000148
replay_lsn | 0/3000148
write_lag |
flush_lag |
replay_lag |
sync_priority | 0
sync_state | async
reply_time | 2020-09-06 13:12:01.308637+00

[postgres@pg1 ~]$
</pre></td></tr></tbody></table></code></div></div>

<figure class="wp-block-image size-large"><img loading="lazy" width="834" height="487" src="/content/images/wordpress/2020/09/3-3.png" alt="" class="wp-image-476" srcset="/content/images/wordpress/2020/09/3-3.png 834w, /content/images/wordpress/2020/09/3-3-300x175.png 300w, /content/images/wordpress/2020/09/3-3-768x448.png 768w" sizes="(max-width: 834px) 100vw, 834px" /></figure>

<p>Selanjutnya test membuat database di master</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>[postgres@pg1 ~]$
[postgres@pg1 ~]$ psql
psql (12.4)
Type "help" for help.

postgres=#
postgres=# CREATE DATABASE belajarlinux;
CREATE DATABASE
postgres=#
</pre></td></tr></tbody></table></code></div></div>

<p>Cek hasil nya di standby</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre>[postgres@pg2 ~]$
[postgres@pg2 ~]$ psql
psql (12.4)
Type "help" for help.

postgres=# \l
                                   List of databases
     Name | Owner | Encoding | Collate | Ctype | Access privileges
--------------+----------+----------+-------------+-------------+-----------------------
 belajarlinux | postgres | UTF8 | en_US.UTF-8 | en_US.UTF-8 |
 postgres | postgres | UTF8 | en_US.UTF-8 | en_US.UTF-8 |
 template0 | postgres | UTF8 | en_US.UTF-8 | en_US.UTF-8 | =c/postgres +
              | | | | | postgres=CTc/postgres
 template1 | postgres | UTF8 | en_US.UTF-8 | en_US.UTF-8 | =c/postgres +
              | | | | | postgres=CTc/postgres
(4 rows)

postgres=#
</pre></td></tr></tbody></table></code></div></div>

<p>Saat ini replikasi streaming sudah berjalan dengan semestinya, sebagai tambahan dan ini merupakan opsional jika Anda ingin set antara node master dan standy tidak menggunakan a_synchronous_melainkan <em>synchronous</em> dapat di lakukan dengan cara mengatur nya di sisi master</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre></td><td class="rouge-code"><pre>[postgres@pg1 ~]$
[postgres@pg1 ~]$ psql -c "ALTER SYSTEM SET synchronous_standby_names TO '*';"
ALTER SYSTEM
[postgres@pg1 ~]$

[root@pg1 ~]#
[root@pg1 ~]# su - postgres
Last login: Sun Sep 6 13:07:41 UTC 2020 on pts/0
[postgres@pg1 ~]$
[postgres@pg1 ~]$ psql -c "\x" -c "SELECT * FROM pg_stat_replication;"
Expanded display is on.
-[RECORD 1]----+------------------------------
pid | 7323
usesysid | 16384
usename | replicator
application_name | walreceiver
client_addr | 192.168.10.24
client_hostname |
client_port | 59766
backend_start | 2020-09-06 13:10:44.743067+00
backend_xmin |
state | streaming
sent_lsn | 0/3000A08
write_lsn | 0/3000A08
flush_lsn | 0/3000A08
replay_lsn | 0/3000A08
write_lag |
flush_lag |
replay_lag |
sync_priority | 1
sync_state | sync
reply_time | 2020-09-06 13:19:13.295971+00

[postgres@pg1 ~]$
</pre></td></tr></tbody></table></code></div></div>

<figure class="wp-block-image size-large"><img loading="lazy" width="716" height="536" src="/content/images/wordpress/2020/09/4-3.png" alt="" class="wp-image-477" srcset="/content/images/wordpress/2020/09/4-3.png 716w, /content/images/wordpress/2020/09/4-3-300x225.png 300w" sizes="(max-width: 716px) 100vw, 716px" /></figure>

<p>Perhatikan gambar diatas saat ini <em>sync_state</em> nya sudah menjadi <em>sync</em> .</p>

<p>Langkah terakhir reload postgresql</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>[root@pg1 ~]#
[root@pg1 ~]# systemctl reload postgresql-12.service
[root@pg1 ~]#
</pre></td></tr></tbody></table></code></div></div>

<p>Selamat mencoba üòÅ</p>

<p>Please follow and like us:</p>

<p><a href="https://api.follow.it/widgets/icon/VHc3d1lpVGdwRnE5QnV0eERCNUx5RCtvTTVoUkNYS3NNRmd5eVhlQW9tNXRHS3VTbGh6Y0NybkRJRS8zSGpjRDVZb1ZGMlNTSEpJYUpuZzZqNzdnd3VSN3dwM2VlQTF6ejJEaGV5UGRUbnlEcHFNd3luYTV4ZTZtUGowVWI2Q2x8M2kzdnBEeUIrUk5xOFI5TXZ3cHF3bFNQRkRJSGhUNGdrRFd0TlNtdE1OWT0=/OA==/"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/wp-content/plugins/ultimate-social-media-icons/images/follow_subscribe.png" alt="error" /></a></p>

<p><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fbelajarlinux.id%2F%3Fp%3D470%26ghostexport%3Dtrue%26submit%3DDownload+Ghost+File"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/wp-content/plugins/ultimate-social-media-icons/images/visit_icons/fbshare_bck.png" alt="fb-share-icon" title="Facebook Share" /></a></p>

<p><a href="https://twitter.com/intent/tweet?text=Cara+Konfigurasi+PostgreSQL+12+Replika+Streaming+di+CentOS+8+https://belajarlinux.id/?p=470&amp;ghostexport=true&amp;submit=Download Ghost File"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/wp-content/plugins/ultimate-social-media-icons/images/visit_icons/en_US_Tweet.svg" alt="Tweet" title="Tweet" /></a></p>

<p><a href="#"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/wp-content/plugins/ultimate-social-media-icons/images/share_icons/Pinterest_Save/en_US_save.svg" alt="fb-share-icon" title="Pin Share" /></a></p>

<!--kg-card-end: html-->


      </div>

      <div class="post-tail-wrapper text-muted">

        <!-- categories -->
        
        <div class="post-meta mb-3">
          <i class="far fa-folder-open fa-fw mr-1"></i>
          
            <a href='/categories/centos/'>centos</a>,
            <a href='/categories/database/'>database</a>
        </div>
        

        <!-- tags -->
        

        <div class="post-tail-bottom
          d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
          
          <div class="license-wrapper">
            This post is licensed under
            <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>
            by the author.
          </div>
          

          <!--
 Post sharing snippet
-->

<div class="share-wrapper">
  <span class="share-label text-muted mr-1">Share</span>
  <span class="share-icons">
    
    

    
      
        <a href="https://twitter.com/intent/tweet?text=Cara Konfigurasi PostgreSQL 12 Replika Streaming di CentOS 8 - Chirpy&url=/posts/cara-konfigurasi-postgresql-12-replika-streaming-di-centos-8/" data-toggle="tooltip" data-placement="top"
          title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
          <i class="fa-fw fab fa-twitter"></i>
        </a>
    
      
        <a href="https://www.facebook.com/sharer/sharer.php?title=Cara Konfigurasi PostgreSQL 12 Replika Streaming di CentOS 8 - Chirpy&u=/posts/cara-konfigurasi-postgresql-12-replika-streaming-di-centos-8/" data-toggle="tooltip" data-placement="top"
          title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
          <i class="fa-fw fab fa-facebook-square"></i>
        </a>
    
      
        <a href="https://telegram.me/share?text=Cara Konfigurasi PostgreSQL 12 Replika Streaming di CentOS 8 - Chirpy&url=/posts/cara-konfigurasi-postgresql-12-replika-streaming-di-centos-8/" data-toggle="tooltip" data-placement="top"
          title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
          <i class="fa-fw fab fa-telegram"></i>
        </a>
    

    <i class="fa-fw fas fa-link small" onclick="copyLink()"
        data-toggle="tooltip" data-placement="top" title="Copy link"></i>

  </span>
</div>


        </div><!-- .post-tail-bottom -->

      </div><!-- div.post-tail -->

    </div> <!-- .post -->


  </div> <!-- #post-wrapper -->

  

  

  <!--
  The Pannel on right side (Desktop views)
-->

<div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down">

  <div class="access">

  














  

  

















  
  </div> <!-- .access -->

  
    <!-- BS-toc.js will be loaded at medium priority -->
    <script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script>
    <div id="toc-wrapper" class="pl-0 pr-4 mb-5">
      <span class="pl-3 pt-2 mb-2">Contents</span>
      <nav id="toc" data-toggle="toc"></nav>
    </div>
  

</div> <!-- #panel-wrapper -->


</div> <!-- .row -->

<div class="row">
  <div class="col-12 col-lg-11 col-xl-8">
    <div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

    <!--
 Recommend the other 3 posts according to the tags and categories of the current post,
 if the number is not enough, use the other latest posts to supplement.
-->

<!-- The total size of related posts  -->


<!-- An random integer that bigger than 0  -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy}  -->








  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  
    
  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  








<!-- Fill with the other newlest posts  -->






  <div id="related-posts" class="mt-5 mb-2 mb-sm-4">
    <h3 class="pt-2 mt-1 mb-4 ml-1"
      data-toc-skip>Further Reading</h3>
    <div class="card-deck mb-4">
    
      
      
      <div class="card">
        <a href="/posts/cara-remote-database-mariadb-di-centos-8/">
          <div class="card-body">
            <!--
  Date format snippet
  See: /assets/js/_utils/timeage.js
-->





<span class="timeago small"
  

  
   >

  
  

  
    Aug 23, 2020
  

  <i class="unloaded">2020-08-23T10:52:29+08:00</i>

</span>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Cara Remote Database MariaDB di CentOS 8</h3>
            <div class="text-muted small">
              <p>
                





                Melakukan remote atau akses database server dari public dari public tentu bukanlah hal yang asing bagi Anda yang bergelut di dunia SysAdmin ataupun Programmer baik untuk kebutuhan website dan yang ...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/cara-mengubah-port-database-mariadb-di-centos-8/">
          <div class="card-body">
            <!--
  Date format snippet
  See: /assets/js/_utils/timeage.js
-->





<span class="timeago small"
  

  
   >

  
  

  
    Aug 23, 2020
  

  <i class="unloaded">2020-08-23T11:17:48+08:00</i>

</span>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Cara Mengubah Port Database MariaDB di CentOS 8</h3>
            <div class="text-muted small">
              <p>
                





                Seperti yang kita ketahui bersama port database secara default berjalan di port 3306 jika kita allow remote akses ke public tentunya kita perlu ekspost port tersebut ke public dan hal ini sangat ri...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/cara-reset-password-wordpress-melalui-mariadb-di-centos-8/">
          <div class="card-body">
            <!--
  Date format snippet
  See: /assets/js/_utils/timeage.js
-->





<span class="timeago small"
  

  
   >

  
  

  
    Aug 27, 2020
  

  <i class="unloaded">2020-08-27T13:37:41+08:00</i>

</span>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Cara Reset Password WordPress Melalui MariaDB di CentOS 8</h3>
            <div class="text-muted small">
              <p>
                





                Sebagai manusia kita pasti akan pernah lupa dan hal ini sudah wajar karena manusia tidak ada yang sempurna. Jika Anda mempunyai WordPress yang diinstall menggunakan mariadb server dan Anda lupa aka...
              </p>
            </div>
          </div>
        </a>
      </div>
    
    </div> <!-- .card-deck -->
  </div> <!-- #related-posts -->



    <!--
  Navigation buttons at the bottom of the post.
-->

<div class="post-navigation d-flex justify-content-between">
  
  <a href="/posts/cara-install-pgadmin4-di-centos-8/" class="btn btn-outline-primary"
    prompt="Older">
    <p>Cara Install pgAdmin4 di CentOS 8</p>
  </a>
  

  
  <a href="/posts/high-availability-postgresql-cluster-menggunakan-patroni-dan-haproxy/" class="btn btn-outline-primary"
    prompt="Newer">
    <p>High Availability PostgreSQL Cluster Menggunakan Patroni dan HAProxy</p>
  </a>
  

</div>


    

    </div> <!-- #post-extend-wrapper -->

  </div> <!-- .col-* -->

</div> <!-- .row -->



        <!--
  The Footer
-->

<footer class="d-flex w-100 justify-content-center">
  <div class="d-flex justify-content-between align-items-center">
    <div class="footer-left">
      <p class="mb-0">
        ¬© 2021
        <a href="https://twitter.com/username">your_full_name</a>.
        
        <span data-toggle="tooltip" data-placement="top"
          title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span>
        
      </p>
    </div>

    <div class="footer-right">
      <p class="mb-0">
        Powered by
        <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
        with
        <a href="https://github.com/cotes2020/jekyll-theme-chirpy"
          target="_blank" rel="noopener">Chirpy</a>
        theme.
      </p>
    </div>

  </div> <!-- div.d-flex -->
</footer>


      </div>

      <!--
  The Search results
-->
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-12 col-sm-11 post-content">
    <div id="search-hints">
      <h4 class="text-muted mb-4">Trending Tags</h4>

      

















      

    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>


    </div> <!-- #main-wrapper -->

    

    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script>

<script>
SimpleJekyllSearch({
  searchInput: document.getElementById('search-input'),
  resultsContainer: document.getElementById('search-results'),
  json: '/assets/js/data/search.json',
  searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0">  <a href="{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    {categories}    {tags}  </div>  <p>{snippet}</p></div>',
  noResultsText: '<p class="mt-5">Oops! No result founds.</p>',
  templateMiddleware: function(prop, value, template) {
    if (prop === 'categories') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
      }
    }

    if (prop === 'tags') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
      }
    }
  }
});
</script>


  </body>

</html>

